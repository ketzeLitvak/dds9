{{#partial "principal" }}
<div class="w-100 p-2 pb-5">
    <section class="w-100 p-2 h-100">
        <h6 class="w-100 text-center mb-2"><strong>Notificaciones</strong></h6>
        <form class="d-flex flex-row gap-2" action="/rangos" method="POST">
            <div class="d-flex flex-column">
                <label class="form-check-label" for="startdate">Fecha Inicial</label>
                <input name="startdate" type="datetime-local" class="form-control" id="startdate"  required>
            </div>
            <div class="d-flex flex-column me-2">
                <label class="form-check-label" for="enddate">Fecha Final</label>
                <input name="enddate" type="datetime-local" class="form-control" id="enddate"  required>
            </div>
            <input name="userId" type="hidden" value="{{user.id}}">
            <input class="btn btn-primary" type="submit" value="AÃ±adir">
        </form>
        {{#if user.rangoNotificaciones.length}}
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Fecha Inicio</th>
                <th scope="col">Fecha Final</th>
                <th scope="col">Eliminar Rango</th>
            </tr>
            </thead>
            <tbody>
            {{#each user.rangoNotificaciones}}
            <tr>
                <td>{{fechaInicio}}</td>
                <td>{{fechaFinal}}</td>
                <td>
                    <form class="justify-content-center align-items-center" action="/rangos/{{id}}" method="POST">
                        <input name="userId" type="hidden" value="{{user.id}}">
                        <input type="submit" class="btn btn-danger" value="Eliminar">
                    </form>
                </td>
            </tr>
            {{/each}}
            </tbody>
        </table>
        </table>
        {{else}}
        <div class="w-100 d-flex justify-content-center">
            <div class="mt-5 px-3 py-2 text-center rounded bg-body-tertiary" style="width: fit-content;">No hay rangos para el usuario</div>
        </div>
        {{/if}}
    </section>
</div>
{{/partial}}

{{> head.html.hbs }}
{{> layout.html.hbs }}
